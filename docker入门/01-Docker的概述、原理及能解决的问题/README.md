# Dockerd的概述、原理及能解决的问题

[原文地址](http://blog.csdn.net/zsl129/article/details/53520244)

## 当下的问题

+ 开发、测试、生产环境的不同可能导致应用程序的结果有所不同，设置会出现错误：
    - 如：各环境中的JDK、Tomcat、MySQL等版本各有不同；
    - 在JDK1.6中写的代码可能在JDK1.8中已经Deprecated了；
    - 在JDK1.8中写的代码可能在JDK1.6中不支持。
+ 需要在一个项目的多个版本中进行切换时很不方便，项目转移服务器时很不方便：
    - 如有一个博客，在1.0这个版本中不允许网友发博文，在2.0这个版本中允许网友网友发博文，在运行了2.0版本一段时间后需要切到1.0时就相对比较麻烦（除非在服务器上存有多个版本）；
    - 当需要将此博客网站移到其他服务器时显得有些麻烦，特别是转移后还有可能需要在多个版本中切换使用，转移过程也可能会导致数据丢失或操作失误等问题。
+ 多人使用同一台服务器时的尴尬问题难以解决：
    - 多人使用同一服务器的问题最为严重，因为每个人的开发环境都有可能不用，各种服务工具的版本不统一问题、各种配置习惯不统一的问题等；
    - 在服务器运维过程中很难同时满足诸多开发者的不同需求；
    - 也很难在同一服务器上安装多个不同版本的JDK、Tomcat、MySQL等。
+ ……

## Docker概述

Docker的诞生可以很轻松的解决上述的各种问题，并且docker的作用远不止这些。

先来看一下在Docker中的几个比较关键的组件：

+ 容器-Docker运行的最小单位
    - 每个容器都是一个轻量级的虚拟机；
    - 每个容器都拥有独立的root文件系统、网络系统、进程服务等
    - 容器与容器之间可以互不干扰，容器不会关心其他容器内部运行的是什么东西，所以通过容器可以让一台服务器内安装不同版本的JDK、Tomcat等（只要运行在不同的容器内部即可）；
    - 一般一个容器只干意见事情，如：一个容器内只运行Tomcat，另一容器内只运行MySQL。
+ 镜像-用于产生容器：
    - 一个镜像可以产生很多容器；
    - 镜像可以在本地创建，创建成功后即可启动容器运行；
    - 可以将镜像推送（push）到Registry（仓库）中；
    - 可以将Registry（仓库）中的镜像拉取（pull）到本地。
+ Registry（仓库）-用于存放镜像：
    - Registry可以是官方的，也可以是国内知名的（如阿里云），也可以是私有的；
    - 由于仓库在远程，所以为应用程序的移植提供便利。

Docker的原理及各个重要组件间的关系可以通过下图有所认识：

![Docker的原理及各个重要组件间的关系](./images/Docker的原理及各个重要组件间的关系.PNG)